{% extends "base.html" %}
{% load socialaccount %}
{% load i18n %}

{% block content %}
<div class="auth-page animate">
    <div class="auth-card">
        <header style="margin-bottom: 2.5rem; text-align: center;">
            <h1 style="font-size: 2.5rem; letter-spacing: -1.5px; margin-bottom: 0.5rem;">Welcome Back</h1>
            <p style="color: var(--text-dim); font-size: 0.95rem;">Please enter your details to continue.</p>
        </header>

        <!-- Social Login -->
        <div style="margin-bottom: 2rem;">
            <a href="{% provider_login_url 'google' %}" class="btn btn-outline"
                style="width: 100%; padding: 0.8rem; border-color: #eee; background: #fff; font-size: 0.9rem;">
                <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" alt="" width="18"
                    style="margin-right: 0.75rem;">
                Authenticate with Google
            </a>
        </div>

        <div style="display: flex; align-items: center; margin-bottom: 2rem; gap: 1rem; color: #eee;">
            <div style="flex: 1; height: 1.5px; background: #f0f0f2;"></div>
            <span
                style="font-size: 0.75rem; font-weight: 700; color: #bfbfbf; text-transform: uppercase; letter-spacing: 1px;">or
                use email</span>
            <div style="flex: 1; height: 1.5px; background: #f0f0f2;"></div>
        </div>

        <form class="login" method="POST" action="{% url 'account_login' %}">
            {% csrf_token %}

            {% if form.errors %}
            <div class="alert alert-error" style="font-size: 0.85rem; padding: 1rem; margin-bottom: 1.5rem;">
                <svg width="18" height="18" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd"
                        d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"
                        clip-rule="evenodd" />
                </svg>
                Invalid credentials. Please try again.
            </div>
            {% endif %}

            <div style="display: grid; gap: 1.25rem;">
                <div class="form-group">
                    <input type="text" name="login" placeholder="Email or Username" class="form-control" required
                        style="padding: 1.1rem;">
                </div>
                <div class="form-group">
                    <input type="password" name="password" placeholder="Password" class="form-control" required
                        style="padding: 1.1rem;">
                </div>

                <div style="text-align: right; margin: -0.5rem 0 0.5rem;">
                    <a href="{% url 'account_reset_password' %}"
                        style="font-size: 0.85rem; color: var(--accent); font-weight: 500;">Forgot password?</a>
                </div>

                <button class="btn btn-primary" type="submit" style="width: 100%; padding: 1.1rem; font-size: 1.05rem;">
                    {% trans "Sign In" %}
                </button>
            </div>
        </form>

        <footer style="margin-top: 2.5rem; text-align: center; border-top: 1.5px solid #f0f0f2; padding-top: 2rem;">
            <p style="font-size: 0.95rem; color: var(--text-dim);">
                New to BuyNexa? <a href="{% url 'account_signup' %}"
                    style="color: var(--accent); font-weight: 700;">Create an account</a>
            </p>
        </footer>
    </div>
</div>
{% endblock %}