{% extends 'base.html' %}

{% block content %}
<div class="animate">
    {% if not category %}
    <!-- Hyper-Premium Hero Section -->
    <section class="hero" style="background-image: url('{% static 'images/hero_banner.png' %}');">
        <div class="hero-content">
            <h1>Beyond<br>Performance.</h1>
            <p>The Nexus of futuristic engineering and avant-garde aesthetic. Step into the next era of comfort.</p>
            <div style="display: flex; gap: 1.5rem;">
                <a href="#shop-grid" class="btn btn-primary">Enter the Shop</a>
                <a href="#featured" class="btn btn-outline">Season 2026</a>
            </div>
        </div>
    </section>
    {% endif %}

    <div id="shop-grid" style="margin-top: 4rem;">
        <div style="display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 4rem;">
            <div>
                <span
                    style="color: var(--accent); font-weight: 800; letter-spacing: 0.2em; text-transform: uppercase; font-size: 0.8rem;">Catalog</span>
                <h2 style="font-size: 3.5rem; margin-top: 0.5rem;">
                    {% if category %}{{ category.name }}{% else %}The Nexus Collection{% endif %}
                </h2>
            </div>

            <!-- Category Filter Pills -->
            <div
                style="display: flex; gap: 0.75rem; background: var(--bg-surface); padding: 0.5rem; border-radius: var(--radius-full); border: 1px solid var(--glass-border);">
                <a href="{% url 'product_list' %}"
                    class="btn {% if not category %}btn-primary{% else %}btn-outline{% endif %}"
                    style="padding: 0.5rem 1.5rem; font-size: 0.75rem; border: none;">All</a>
                {% for cat in categories %}
                <a href="{% url 'product_list_by_category' cat.slug %}"
                    class="btn {% if category.slug == cat.slug %}btn-primary{% else %}btn-outline{% endif %}"
                    style="padding: 0.5rem 1.5rem; font-size: 0.75rem; border: none;">{{ cat.name }}</a>
                {% endfor %}
            </div>
        </div>

        <div class="grid grid-3">
            {% for product in products %}
            <div class="product-card">
                <a href="{% url 'product_detail' product.slug %}" class="product-image-wrapper">
                    {% if product.image %}
                    <img src="{{ product.image.url }}" alt="{{ product.name }}" class="product-image">
                    {% else %}
                    <img src="{% static 'images/default_shoe.png' %}" alt="{{ product.name }}" class="product-image"
                        style="opacity: 0.5;">
                    {% endif %}
                </a>
                <div class="product-info">
                    <span class="product-category">{{ product.category.name }}</span>
                    <a href="{% url 'product_detail' product.slug %}">
                        <h3 class="product-title">{{ product.name }}</h3>
                    </a>
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-top: auto; padding-top: 2rem;">
                        <span class="product-price">${{ product.price }}</span>
                        <a href="{% url 'add_to_cart' product.id %}" class="btn glass"
                            style="padding: 0.75rem 1.25rem; font-size: 0.75rem; border-radius: 12px; border-color: var(--glass-border);">
                            + Add to Bag
                        </a>
                    </div>
                </div>
            </div>
            {% empty %}
            <div style="grid-column: 1/-1; text-align: center; padding: 10rem 0;">
                <p style="color: var(--text-secondary); font-size: 1.5rem; font-weight: 300;">Archive is currently
                    empty.</p>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}