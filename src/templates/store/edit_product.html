{% extends 'base.html' %}

{% block content %}
<div class="animate" style="max-width: 800px; margin: 0 auto;">
    <header style="margin-bottom: 4rem; text-align: center;">
        <h1 style="font-size: 3.5rem; letter-spacing: -2px;">Refine Details</h1>
        <p style="color: var(--text-dim); font-size: 1.1rem;">Updating information for <span
                style="color: var(--primary); font-weight: 700;">{{ product.name }}</span>.</p>
    </header>

    <div class="cart-summary-card">
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}

            <div style="display: grid; gap: 2rem;">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                    <div class="form-group">
                        <label
                            style="display: block; margin-bottom: 0.75rem; font-weight: 600; font-size: 0.9rem; color: var(--text-main);">{{
                            form.name.label }}</label>
                        {{ form.name }}
                    </div>
                    <div class="form-group">
                        <label
                            style="display: block; margin-bottom: 0.75rem; font-weight: 600; font-size: 0.9rem; color: var(--text-main);">{{
                            form.slug.label }}</label>
                        {{ form.slug }}
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 2rem;">
                    <div class="form-group">
                        <label
                            style="display: block; margin-bottom: 0.75rem; font-weight: 600; font-size: 0.9rem; color: var(--text-main);">{{
                            form.category.label }}</label>
                        {{ form.category }}
                    </div>
                    <div class="form-group">
                        <label
                            style="display: block; margin-bottom: 0.75rem; font-weight: 600; font-size: 0.9rem; color: var(--text-main);">{{
                            form.price.label }} ($)</label>
                        {{ form.price }}
                    </div>
                    <div class="form-group">
                        <label
                            style="display: block; margin-bottom: 0.75rem; font-weight: 600; font-size: 0.9rem; color: var(--text-main);">{{
                            form.stock.label }}</label>
                        {{ form.stock }}
                    </div>
                </div>

                <div class="form-group">
                    <label
                        style="display: block; margin-bottom: 0.75rem; font-weight: 600; font-size: 0.9rem; color: var(--text-main);">{{
                        form.description.label }}</label>
                    {{ form.description }}
                </div>

                <div class="form-group">
                    <label
                        style="display: block; margin-bottom: 0.75rem; font-weight: 600; font-size: 0.9rem; color: var(--text-main);">Product
                        Image</label>
                    <div
                        style="display: flex; gap: 2rem; align-items: flex-start; padding: 2rem; border: 1px solid #eee; border-radius: 16px; background: #fafafb;">
                        {% if product.image %}
                        <img src="{{ product.image.url }}" alt=""
                            style="width: 120px; height: 120px; object-fit: cover; border-radius: 12px; box-shadow: var(--shadow-sm);">
                        {% endif %}
                        <div style="flex: 1;">
                            <p style="margin-bottom: 1rem; font-size: 0.9rem; font-weight: 600;">Replace Image</p>
                            {{ form.image }}
                        </div>
                    </div>
                </div>

                <div
                    style="border-top: 1.5px solid #f0f0f2; margin: 1rem 0; padding-top: 2rem; display: flex; gap: 1.5rem;">
                    <a href="{% url 'manage_products' %}" class="btn btn-outline"
                        style="flex: 1; padding: 1.25rem;">Discard Changes</a>
                    <button type="submit" class="btn btn-primary" style="flex: 2; padding: 1.25rem; font-size: 1.1rem;">
                        Save Updates
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
{% endblock %}